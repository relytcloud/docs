{
  "openapi": "3.0.1",
  "info": {
    "title": "Team Open API",
    "description": "",
    "version": "1.0.0"
  },
  "tags": [
    {
      "name": "Session"
    }
  ],
  "paths": {
    "/v2/team/sessions": {
      "post": {
        "summary": "Create session",
        "deprecated": false,
        "description": "创建会话。\n会话即用户与 Relyt AI 在单次对话中的持续交互过程。每个用户至多可以同时保留 150 个会话。达到此上限后，如需创建新会话，可以删除不再使用的会话后，再进行创建。",
        "tags": [
          "Session"
        ],
        "parameters": [
          {
            "name": "x-pd-external-trace-id",
            "in": "header",
            "description": "您本地系统中设置的 Trace ID，至多支持 128 个字符。当请求发生错误时，可以将此 ID 提供给 Relyt AI 团队，协助进行故障排查。",
            "required": false,
            "example": "",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "会话名称，至多可支持 128 个字符。如超过此限制，名称将被截断展示。"
                  },
                  "output_language": {
                    "type": "string",
                    "enum": [
                      "AUTO",
                      "EN",
                      "ES",
                      "AR",
                      "PT",
                      "ID",
                      "JA",
                      "RU",
                      "HI",
                      "FR",
                      "DE",
                      "VI",
                      "TR",
                      "PL",
                      "IT",
                      "KO",
                      "ZH-CN",
                      "ZH-TW"
                    ],
                    "default": "AUTO",
                    "description": "Relyt AI 的回复语言。例如，当设置为 `EN` 时，则 Relyt AI 使用英语进行回复。如不指定，将使用默认值 `AUTO`，即 Relyt AI 会根据提示词自动选择合适的回复语言。可选值包括：\n\n- `AUTO`：根据提示词自动识别\n- `EN`：英语\n- `ES`：西班牙语\n- `AR`：阿拉伯语\n- `PT`：葡萄牙语\n- `ID`：印尼语\n- `JA`：日语\n- `RU`：俄语\n- `HI`：印地语\n- `FR`：法语\n- `DE`：德语\n- `VI`：越南语\n- `TR`：土耳其语\n- `PL`：波兰语\n- `IT`：意大利语\n- `KO`：韩语\n- `ZH-CN`：简体中文\n- `ZH-TW`：繁体中文"
                  },
                  "job_mode": {
                    "type": "string",
                    "description": "任务类型。可选值包括：\n\n- `AUTO`：Relyt AI 根据你的提问进行意图判断，决定该任务为数据分析任务或信息检索任务。\n- `DATA_ANALYTICS`：Relyt AI 会根据你的输入进行数据分析。\n\n如不指定，则采用默认值 `AUTO`。如果您明确地想要进行数据分析，我们建议您将值设置为 **DATA_ANALYTICS**，从而 Relyt AI 可以跳过意图识别步骤，加快问题处理速度。",
                    "enum": [
                      "AUTO",
                      "DATA_ANALYTICS"
                    ],
                    "default": "DATA_ANALYTICS"
                  },
                  "max_contextual_job_history": {
                    "type": "integer",
                    "description": "作为下一个任务上下文的历史任务数，取值范围为 `0` 到 `10`，默认值为 `10`。如设置为 `0`，则当前任务将不使用任何历史任务作为上下文信息。"
                  },
                  "agent_id": {
                    "type": "string",
                    "enum": [
                      "DATA_ANALYSIS_AGENT"
                    ],
                    "default": "DATA_ANALYSIS_AGENT",
                    "description": "AI 智能体的 ID。该参数为保留参数，无需制定或设置为 **DATA_ANALYSIS_AGENT**。"
                  },
                  "user_id": {
                    "type": "string",
                    "description": "用户 ID，即您在组织中的唯一身份标识。"
                  }
                },
                "required": [
                  "name",
                  "user_id"
                ]
              },
              "example": {
                "name": "My session",
                "output_language": "FR",
                "job_mode": "AUTO",
                "max_contextual_job_history": 10,
                "agent_id": "DATA_ANALYSIS_AGENT",
                "user_id": "tmm-dafasdfasdfasdf"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "description": "状态码。**0** 表示操作成功。其它值则表示操作失败。如需进行错误排查，请参阅 [错误码](/introduction/error-codes)。"
                    },
                    "data": {
                      "description": "返回的数据对象。",
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string",
                          "description": "会话 ID。\n\n如后续要使用该会话来 [执行任务](/api-reference/create-job)，请保存该 ID。"
                        }
                      },
                      "required": [
                        "id"
                      ]
                    }
                  },
                  "required": [
                    "data",
                    "code"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": 0,
                      "data": {
                        "id": "session-dasfasdgasdgfasdgasdg"
                      }
                    }
                  }
                }
              }
            },
            "headers": {
              "x-pd-trace-id": {
                "example": "",
                "required": true,
                "description": "Relyt AI 返回的 Trace ID。当请求发生错误时，可以将此 ID 提供给 Relyt AI 团队，协助进行故障排查。",
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        },
        "security": [
          {
            "apikey-header-x-pd-api-key": []
          }
        ]
      }
    }
  },
  "components": {
    "schemas": {
      "CreateSessionRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "会话名称，至多可支持 128 个字符。如超过此限制，名称将被截断展示。"
          },
          "output_language": {
            "type": "string",
            "enum": [
              "AUTO",
              "EN",
              "ES",
              "AR",
              "PT",
              "ID",
              "JA",
              "RU",
              "HI",
              "FR",
              "DE",
              "VI",
              "TR",
              "PL",
              "IT",
              "KO",
              "ZH-CN",
              "ZH-TW"
            ],
            "default": "AUTO",
            "description": "Relyt AI 的回复语言。例如，当设置为 `EN` 时，则 Relyt AI 使用英语进行回复。如不指定，将使用默认值 `AUTO`，即 Relyt AI 会根据提示词自动选择合适的回复语言。可选值包括：\n\n- `AUTO`：根据提示词自动识别\n- `EN`：英语\n- `ES`：西班牙语\n- `AR`：阿拉伯语\n- `PT`：葡萄牙语\n- `ID`：印尼语\n- `JA`：日语\n- `RU`：俄语\n- `HI`：印地语\n- `FR`：法语\n- `DE`：德语\n- `VI`：越南语\n- `TR`：土耳其语\n- `PL`：波兰语\n- `IT`：意大利语\n- `KO`：韩语\n- `ZH-CN`：简体中文\n- `ZH-TW`：繁体中文"
          },
          "job_mode": {
            "type": "string",
            "description": "任务类型。可选值包括：\n\n- `AUTO`：Relyt AI 根据你的提问进行意图判断，决定该任务为数据分析任务或信息检索任务。\n- `DATA_ANALYTICS`：Relyt AI 会根据你的输入进行数据分析。\n\n如不指定，则采用默认值 `AUTO`。如果您明确地想要进行数据分析，我们建议您将值设置为 **DATA_ANALYTICS**，从而 Relyt AI 可以跳过意图识别步骤，加快问题处理速度。",
            "enum": [
              "AUTO",
              "DATA_ANALYTICS"
            ],
            "default": "DATA_ANALYTICS"
          },
          "max_contextual_job_history": {
            "type": "integer",
            "description": "作为下一个任务上下文的历史任务数，取值范围为 `0` 到 `10`，默认值为 `10`。如设置为 `0`，则当前任务将不使用任何历史任务作为上下文信息。"
          },
          "agent_id": {
            "type": "string",
            "enum": [
              "DATA_ANALYSIS_AGENT"
            ],
            "default": "DATA_ANALYSIS_AGENT",
            "description": "AI 智能体的 ID。该参数为保留参数，无需制定或设置为 **DATA_ANALYSIS_AGENT**。"
          },
          "user_id": {
            "type": "string",
            "description": "用户 ID，即您在组织中的唯一身份标识。"
          }
        },
        "required": [
          "name",
          "user_id"
        ]
      },
      "返回模型": {
        "type": "object",
        "properties": {
          "code": {
            "type": "integer",
            "description": "状态码。**0** 表示操作成功。其它值则表示操作失败。如需进行错误排查，请参阅 [错误码](/introduction/error-codes)。"
          }
        },
        "required": [
          "code"
        ]
      }
    },
    "securitySchemes": {
      "apikey-header-x-pd-api-key": {
        "type": "apiKey",
        "in": "header",
        "name": "x-pd-api-key"
      }
    }
  },
  "servers": [],
  "security": [
    {
      "apikey-header-x-pd-api-key": []
    }
  ]
}